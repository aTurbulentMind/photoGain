import{r as t,W as y,q as h}from"./runtime.Cd5kR4Mq.js";import{b as q}from"./attributes.CjHmVdtE.js";import{g as i,i as A}from"./proxy.DCTM8AMB.js";import{h as g}from"./disclose-version.mX-FAZ6T.js";function n(e,c,r,l=r){e.addEventListener(c,r);const _=e.__on_r;_?e.__on_r=()=>{_(),l()}:e.__on_r=l,q()}function E(e,c,r){n(e,"input",()=>{r(k(e)?b(e.value):e.value)}),t(()=>{var l=c();if(g&&e.defaultValue!==e.value){r(e.value);return}k(e)&&l===b(e.value)||e.type==="date"&&!l&&!e.value||(e.value=l??"")})}const d=new Set;function L(e,c,r,l,_){var o=r.getAttribute("type")==="checkbox",f=e;let m=!1;if(c!==null)for(var v of c)f=f[v]??(f[v]=[]);f.push(r),n(r,"change",()=>{var a=r.__value;o&&(a=u(f,a,r.checked)),_(a)},()=>_(o?[]:null)),t(()=>{var a=l();if(g&&r.defaultChecked!==r.checked){m=!0;return}o?(a=a||[],r.checked=i(a).includes(i(r.__value))):r.checked=A(r.__value,a)}),y(()=>{var a=f.indexOf(r);a!==-1&&f.splice(a,1)}),d.has(f)||(d.add(f),h(()=>{f.sort((a,s)=>a.compareDocumentPosition(s)===4?-1:1),d.delete(f)})),h(()=>{if(m){var a;if(o)a=u(f,a,r.checked);else{var s=f.find(w=>w.checked);a=s==null?void 0:s.__value}_(a)}})}function u(e,c,r){for(var l=new Set,_=0;_<e.length;_+=1)e[_].checked&&l.add(e[_].__value);return r||l.delete(c),Array.from(l)}function k(e){var c=e.type;return c==="number"||c==="range"}function b(e){return e===""?null:+e}function O(e,c,r){n(e,"change",()=>{r(e.files)}),t(()=>{e.files=c()})}export{L as a,O as b,E as c,n as l};
