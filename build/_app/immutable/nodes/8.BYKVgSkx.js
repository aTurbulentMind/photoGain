import{C as q,s as t,c as s,a as p,t as c,r}from"../chunks/disclose-version.R2tMHkCf.js";import{p as K,a as N,g as o,m as k,s as b,t as F,T as h,D as O}from"../chunks/runtime.B9Tkknyz.js";import{s as u}from"../chunks/render.BR1jdBP3.js";import{i as D}from"../chunks/if.Gr1yDK32.js";import{e as Q,i as R}from"../chunks/each.Cteka9H4.js";import{a as S}from"../chunks/attributes.BCpl9MSX.js";import{e as I}from"../chunks/svelte-head.C8vKO2zP.js";import{i as U}from"../chunks/lifecycle.KSb5esXj.js";import{o as W}from"../chunks/index-client.CnYn4uKB.js";import{s as X}from"../chunks/supabaseClient.DYmWHwRN.js";var Y=c('<li class="svelte-199e9aw"><button class="bordt" type="button"> </button> <p class="highlight svelte-199e9aw"><strong>Date:</strong> </p> <p> </p></li>'),Z=c('<ul class="svelte-199e9aw"></ul>'),tt=c("<p>Loading past articles...</p>"),et=c("<h2> </h2> <p><strong>Date:</strong> </p> <p> </p>",1),at=c('<div class="modal full-window svelte-199e9aw" role="presentation"><div class="modal-content svelte-199e9aw"><!> <button type="button">Close</button></div></div>'),rt=c('<h1>Library of past ideas</h1> <div class="blog-container svelte-199e9aw"><h1 class="blog-title svelte-199e9aw">Check out what I said the other day</h1> <!> <!></div>',1);function _t(P,T){K(T,!1);let g=k([]),w=k(!1),d=k(null);async function V(){try{const{data:a,error:e}=await X.from("Allthestuff").select("*").order("id",{ascending:!1}).eq("status","done");if(e){console.error("Error fetching past articles:",e.message);return}b(g,a.map(n=>({...n,short_guts:n.text_guts.split(" ").slice(0,50).join(" ")+"..."}))),console.log("Fetched past articles:",o(g))}catch(a){console.error("Error:",a.message)}}function z(a){b(d,a),b(w,!0)}W(V),U();var C=rt(),B=q(C),E=t(t(B,!0)),G=s(E),L=t(t(G,!0));D(L,()=>o(g).length>0,a=>{var e=Z();Q(e,9,()=>o(g),R,(n,l,M)=>{var _=Y(),i=s(_),m=O(()=>()=>z(h(l))),x=s(i);r(i);var v=t(t(i,!0)),y=s(v),A=t(y,!0);r(v);var f=t(t(v,!0)),$=s(f);r(f),r(_),F(()=>{S(i,"aria-label",`View details for ${h(l).text_name??""}`),u(x,h(l).text_name),u(A,` ${h(l).date_made??""}`),u($,h(l).short_guts)}),I("click",i,function(...J){var j;return(j=o(m))==null?void 0:j.apply(this,J)},!1),p(n,_)}),r(e),p(a,e)},a=>{var e=tt();p(a,e)});var H=t(t(L,!0));D(H,()=>o(w),a=>{var e=at(),n=s(e),l=s(n);D(l,()=>o(d),_=>{var i=et(),m=q(i),x=s(m);r(m);var v=t(t(m,!0)),y=s(v),A=t(y,!0);r(v);var f=t(t(v,!0)),$=s(f);r(f),F(()=>{u(x,o(d).text_name),u(A,` ${o(d).date_made??""}`),u($,o(d).text_guts)}),p(_,i)});var M=t(t(l,!0));r(n),r(e),I("click",M,()=>b(w,!1),!1),p(a,e)}),r(E),p(P,C),N()}export{_t as component};
