import{s as J,n as N,o as K}from"../chunks/scheduler.CDuU5eCe.js";import{S as Q,i as W,e as g,s as y,c as k,g as q,a as j,b as w,d as p,p as E,h as x,j as v,l as F,t as A,o as I,u as V,r as X}from"../chunks/index.DrNOQVLA.js";import{e as U}from"../chunks/each.4hAOA6fU.js";import{s as Y}from"../chunks/supabaseClient.BARzehnn.js";function B(r,e,s){const l=r.slice();return l[7]=e[s],l}function Z(r){let e,s="Loading past articles...";return{c(){e=g("p"),e.textContent=s},l(l){e=k(l,"P",{"data-svelte-h":!0}),q(e)!=="svelte-10mmlkd"&&(e.textContent=s)},m(l,t){x(l,e,t)},p:N,d(l){l&&p(e)}}}function $(r){let e,s=U(r[0]),l=[];for(let t=0;t<s.length;t+=1)l[t]=G(B(r,s,t));return{c(){e=g("ul");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=k(t,"UL",{class:!0});var n=w(e);for(let a=0;a<l.length;a+=1)l[a].l(n);n.forEach(p),this.h()},h(){E(e,"class","svelte-o7ejcs")},m(t,n){x(t,e,n);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(t,n){if(n&9){s=U(t[0]);let a;for(a=0;a<s.length;a+=1){const h=B(t,s,a);l[a]?l[a].p(h,n):(l[a]=G(h),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=s.length}},d(t){t&&p(e),X(l,t)}}}function G(r){let e,s,l=r[7].text_name+"",t,n,a,h,o,m="Date:",f,c=r[7].date_made+"",i,u,_,d=r[7].short_guts+"",b,P,T,O;function z(){return r[4](r[7])}return{c(){e=g("li"),s=g("button"),t=A(l),a=y(),h=g("p"),o=g("strong"),o.textContent=m,f=y(),i=A(c),u=y(),_=g("p"),b=A(d),P=y(),this.h()},l(D){e=k(D,"LI",{class:!0});var C=w(e);s=k(C,"BUTTON",{class:!0,type:!0,"aria-label":!0});var S=w(s);t=I(S,l),S.forEach(p),a=j(C),h=k(C,"P",{class:!0});var L=w(h);o=k(L,"STRONG",{"data-svelte-h":!0}),q(o)!=="svelte-cxiy68"&&(o.textContent=m),f=j(L),i=I(L,c),L.forEach(p),u=j(C),_=k(C,"P",{});var H=w(_);b=I(H,d),H.forEach(p),P=j(C),C.forEach(p),this.h()},h(){E(s,"class","bordt"),E(s,"type","button"),E(s,"aria-label",n="View details for "+r[7].text_name),E(h,"class","highlight svelte-o7ejcs"),E(e,"class","svelte-o7ejcs")},m(D,C){x(D,e,C),v(e,s),v(s,t),v(e,a),v(e,h),v(h,o),v(h,f),v(h,i),v(e,u),v(e,_),v(_,b),v(e,P),T||(O=F(s,"click",z),T=!0)},p(D,C){r=D,C&1&&l!==(l=r[7].text_name+"")&&V(t,l),C&1&&n!==(n="View details for "+r[7].text_name)&&E(s,"aria-label",n),C&1&&c!==(c=r[7].date_made+"")&&V(i,c),C&1&&d!==(d=r[7].short_guts+"")&&V(b,d)},d(D){D&&p(e),T=!1,O()}}}function M(r){let e,s,l,t,n="Close",a,h,o=r[2]&&R(r);return{c(){e=g("div"),s=g("div"),o&&o.c(),l=y(),t=g("button"),t.textContent=n,this.h()},l(m){e=k(m,"DIV",{class:!0,role:!0});var f=w(e);s=k(f,"DIV",{class:!0});var c=w(s);o&&o.l(c),l=j(c),t=k(c,"BUTTON",{type:!0,"data-svelte-h":!0}),q(t)!=="svelte-x9we5i"&&(t.textContent=n),c.forEach(p),f.forEach(p),this.h()},h(){E(t,"type","button"),E(s,"class","modal-content svelte-o7ejcs"),E(e,"class","modal full-window svelte-o7ejcs"),E(e,"role","presentation")},m(m,f){x(m,e,f),v(e,s),o&&o.m(s,null),v(s,l),v(s,t),a||(h=F(t,"click",r[5]),a=!0)},p(m,f){m[2]?o?o.p(m,f):(o=R(m),o.c(),o.m(s,l)):o&&(o.d(1),o=null)},d(m){m&&p(e),o&&o.d(),a=!1,h()}}}function R(r){let e,s=r[2].text_name+"",l,t,n,a,h="Date:",o,m=r[2].date_made+"",f,c,i,u=r[2].text_guts+"",_;return{c(){e=g("h2"),l=A(s),t=y(),n=g("p"),a=g("strong"),a.textContent=h,o=y(),f=A(m),c=y(),i=g("p"),_=A(u)},l(d){e=k(d,"H2",{});var b=w(e);l=I(b,s),b.forEach(p),t=j(d),n=k(d,"P",{});var P=w(n);a=k(P,"STRONG",{"data-svelte-h":!0}),q(a)!=="svelte-cxiy68"&&(a.textContent=h),o=j(P),f=I(P,m),P.forEach(p),c=j(d),i=k(d,"P",{});var T=w(i);_=I(T,u),T.forEach(p)},m(d,b){x(d,e,b),v(e,l),x(d,t,b),x(d,n,b),v(n,a),v(n,o),v(n,f),x(d,c,b),x(d,i,b),v(i,_)},p(d,b){b&4&&s!==(s=d[2].text_name+"")&&V(l,s),b&4&&m!==(m=d[2].date_made+"")&&V(f,m),b&4&&u!==(u=d[2].text_guts+"")&&V(_,u)},d(d){d&&(p(e),p(t),p(n),p(c),p(i))}}}function ee(r){let e,s="Library of past ideas",l,t,n,a="Check out what I said the other day",h,o;function m(u,_){return u[0].length>0?$:Z}let f=m(r),c=f(r),i=r[1]&&M(r);return{c(){e=g("h1"),e.textContent=s,l=y(),t=g("div"),n=g("h1"),n.textContent=a,h=y(),c.c(),o=y(),i&&i.c(),this.h()},l(u){e=k(u,"H1",{"data-svelte-h":!0}),q(e)!=="svelte-qs4daq"&&(e.textContent=s),l=j(u),t=k(u,"DIV",{class:!0});var _=w(t);n=k(_,"H1",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-17aoxif"&&(n.textContent=a),h=j(_),c.l(_),o=j(_),i&&i.l(_),_.forEach(p),this.h()},h(){E(n,"class","blog-title svelte-o7ejcs"),E(t,"class","blog-container svelte-o7ejcs")},m(u,_){x(u,e,_),x(u,l,_),x(u,t,_),v(t,n),v(t,h),c.m(t,null),v(t,o),i&&i.m(t,null)},p(u,[_]){f===(f=m(u))&&c?c.p(u,_):(c.d(1),c=f(u),c&&(c.c(),c.m(t,o))),u[1]?i?i.p(u,_):(i=M(u),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i:N,o:N,d(u){u&&(p(e),p(l),p(t)),c.d(),i&&i.d()}}}function te(r,e,s){let l=[],t=!1,n=null;async function a(){try{const{data:f,error:c}=await Y.from("Allthestuff").select("*").order("id",{ascending:!1}).eq("status","done");if(c){console.error("Error fetching past articles:",c.message);return}s(0,l=f.map(i=>({...i,short_guts:i.text_guts.split(" ").slice(0,50).join(" ")+"..."}))),console.log("Fetched past articles:",l)}catch(f){console.error("Error:",f.message)}}function h(f){s(2,n=f),s(1,t=!0)}return K(a),[l,t,n,h,f=>h(f),()=>s(1,t=!1)]}class oe extends Q{constructor(e){super(),W(this,e,te,ee,J,{})}}export{oe as component};
